"use strict";(self.webpackChunkusmlsa=self.webpackChunkusmlsa||[]).push([[573],{573:function(t,e,a){a.r(e),a.d(e,{default:function(){return m}});a(2791);var n=a(7472),o=a(2592),c=a(9743),s=a(2677),r=a(8864),i=a(5705),p=a(9434),u=a(6355),l=a(171),d=a(7689),y=a(3589),f=a(184),h=function(){var t=(0,p.v9)((function(t){return t.person})).isLoading,e=(0,p.I0)(),a=(0,d.s0)();return(0,f.jsxs)("div",{className:"form-space px-lg-5 mx-xl-5 d-flex flex-column align-items-center mt-5 pt-5 justify-content-center",children:[(0,f.jsx)(o.Z,{fluid:!0,className:"field-icon",src:"https://usmlsa.com/wp-content/uploads/2023/10/usmlsa_new_png-Copy.png",loading:"lazy",width:200,height:100}),(0,f.jsx)("h5",{className:"text-white pt-3",children:"Reset Your Password"}),(0,f.jsx)("small",{className:"text-white py-2",children:"Don't worry! it happens. Please enter your email address to get code."}),(0,f.jsx)(i.J9,{onSubmit:function(t,n){var o,c=null===(o=localStorage)||void 0===o?void 0:o.getItem("forget-password-email"),s=c&&(null===JSON||void 0===JSON?void 0:JSON.parse(c)),r=null===t||void 0===t?void 0:t.password,i=null===t||void 0===t?void 0:t.otp;e((0,l.tq)(s,r,i,a)),n.resetForm()},initialValues:{password:"",otp:""},children:function(e){return(0,f.jsx)(i.l0,{children:(0,f.jsxs)(c.Z,{className:"row-cols-1",children:[(0,f.jsx)(s.Z,{className:"d-flex flex-column",children:(0,f.jsx)(r.Z,{icon:(0,f.jsx)(u.kUi,{}),placeholder:"Enter Your Code",name:"otp",type:"text"})}),(0,f.jsx)(s.Z,{className:"d-flex flex-column",children:(0,f.jsx)(r.Z,{icon:(0,f.jsx)(u.kUi,{}),placeholder:"Enter Your New Password",type:"password",name:"password"})}),(0,f.jsx)("div",{className:"d-flex justify-content-center mb-3 px-0",children:(0,f.jsx)("button",{type:"submit",className:"mt-3 gradient-btn-orange",children:t?(0,f.jsx)(y.Z,{}):"Submit"})})]})})}})]})},m=(0,n.Z)((function(){return(0,f.jsx)(h,{})}))},171:function(t,e,a){a.d(e,{D0:function(){return i},Hj:function(){return r},PO:function(){return p},Z0:function(){return h},cj:function(){return d},dy:function(){return y},kN:function(){return l},tq:function(){return f},wN:function(){return u}});var n=a(2574),o=a(5394),c=a(447),s="https://api.usmlsa.com/",r=function(t,e,a,r){return function(i){i({type:n.cS,payload:!0}),o.Z.post("".concat(s,"api/persons/initial-registration"),t,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(t){console.log(t),i({type:n.CC}),i({type:n.cS,payload:!0}),a("ADMIN"===r?"/dashboard/allpersons":"/dashboard/allteams"),c.Z.success(t.data.message)})).catch((function(t){c.Z.error(t.message),i({type:n.cS,payload:!1})}))}},i=function(t,e,a,r){return function(i){i({type:n.cS,payload:!0}),o.Z.put("".concat(s,"api/persons/").concat(e),t,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){console.log(t),i({type:n.QE}),i({type:n.cS,payload:!0}),c.Z.success(t.data.message),r&&r()})).catch((function(t){var e;c.Z.success(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.message),i({type:n.cS,payload:!1})}))}},p=function(t,e){return function(a){a({type:n.cS,payload:!0}),o.Z.get("".concat(s,"api/persons?page=").concat(t,"&size=10"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(t){console.log(t,"response"),a({type:n.yI,payload:t.data}),a({type:n.cS,payload:!1})})).catch((function(t){404===t.response.status&&a({type:n.yI,payload:[]}),a({type:n.cS,payload:!1})}))}},u=function(t,e){return function(a){o.Z.get("".concat(s,"api/persons/search?name=").concat(t.toLowerCase(),"&page=").concat(e,"&size=10")).then((function(t){a({type:n.yI,payload:t.data})})).catch((function(t){404===t.response.status&&a({type:n.yI,payload:[]})}))}},l=function(t,e){return function(a){a({type:n.cS,payload:!0}),o.Z.get("".concat(s,"api/persons/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(t){a({type:n.wC,payload:t.data}),a({type:n.cS,payload:!1})})).catch((function(t){a({type:n.cS,payload:!1})}))}},d=function(t,e,a){return function(r){r({type:n.cS,payload:!0}),o.Z.delete("".concat(s,"api/persons/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(t){r({type:n.pJ}),r({type:n.cS,payload:!1}),c.Z.success(t.data.message),a&&a()})).catch((function(t){r({type:n.cS,payload:!0}),c.Z.error(t.response.data.message)}))}},y=function(t,e){return function(a){a({type:n.cS,payload:!0}),o.Z.post("".concat(s,"api/persons/forgot-password?email=").concat(t),{}).then((function(t){console.log("\ud83d\ude80 : ~ file: actionsCreators.js:135 ~ .then ~ response",t),a({type:n.rv,payload:t.data}),a({type:n.cS,payload:!1}),e("/auth/reset-password"),c.Z.success(t.data.message)})).catch((function(t){c.Z.error(t.response.data.error),a({type:n.cS,payload:!1})}))}},f=function(t,e,a,r){return function(i){i({type:n.cS,payload:!0}),o.Z.post("".concat(s,"api/persons/reset-password?email=").concat(t,"&newPassword=").concat(e,"&token=").concat(a,"\n"),{}).then((function(t){console.log(t),i({type:n.Ew,payload:t.data}),i({type:n.cS,payload:!1}),c.Z.success(t.data.message),r("/auth/login")})).catch((function(t){c.Z.error(t.response.data.error),i({type:n.cS,payload:!1})}))}},h=function(t,e,a){return function(r){var i=new FormData;i.append("file",a),r({type:n.cS,payload:!0}),o.Z.post("".concat(s,"api/persons/").concat(t,"/upload-picture"),i,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"}}).then((function(t){r({type:n.cS,payload:!1}),c.Z.success(t.data.message)})).catch((function(t){var e,a;c.Z.error((null===(e=t.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||"An error occurred"),r({type:n.cS,payload:!1})}))}}}}]);
//# sourceMappingURL=573.c764f83a.chunk.js.map