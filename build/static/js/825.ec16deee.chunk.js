"use strict";(self.webpackChunkusmlsa=self.webpackChunkusmlsa||[]).push([[825],{4387:function(e,t,n){n(2791);var a=n(3360),o=n(5316),s=n(184);t.Z=function(e){var t=e.show,n=e.onClose,c=e.OnDelete,r=e.title;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(o.Z,{size:"md",show:t,onHide:n,"aria-labelledby":"example-modal-sizes-title-sm",children:[(0,s.jsx)(o.Z.Header,{closeButton:!0,children:(0,s.jsxs)(o.Z.Title,{id:"example-modal-sizes-title-sm",children:["Delete  ",r]})}),(0,s.jsxs)(o.Z.Body,{children:[(0,s.jsxs)("h6",{className:"text-nowrap fw-semibold",children:["Are u Sure to delete this ",r," ?"]}),(0,s.jsx)("div",{className:"text-end mt-4",children:(0,s.jsx)(a.Z,{variant:"danger",onClick:c,children:"Confirm"})})]})]})})}},6702:function(e,t,n){n(2791);var a=n(8290),o=(n(5862),n(184));t.Z=function(e){var t=e.rows,n=void 0===t?5:t,s=e.columns,c=void 0===s?5:s,r=e.baseColor,i=void 0===r?"#afafaf":r,l=e.highlightColor,d=void 0===l?"#afafaf":l;return(0,o.jsx)("tbody",{children:Array.from({length:n}).map((function(e,t){return(0,o.jsx)("tr",{children:Array.from({length:c}).map((function(e,t){return(0,o.jsx)("td",{children:(0,o.jsx)(a.Z,{height:20,width:"100%",baseColor:i,highlightColor:d})},t)}))},t)}))})}},3760:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var a=n(2791),o=n(9833),s=n(3719),c=n(9439),r=n(9743),i=n(2677),l=n(5630),d=n(2591),u=n(8820),p=n(9126),h=n(9434),f=(n(8453),n(171)),m=n(4387),y=n(9673),x=n(7689),v=n(6702),j=n(184),g=function(){var e,t,n=(0,h.v9)((function(e){return e.person})),o=n.PersonData,s=n.isLoading,g=(0,h.v9)((function(e){return e.user})).token,Z=(0,a.useState)(0),w=(0,c.Z)(Z,2),S=w[0],b=w[1],C=(0,a.useState)(!1),N=(0,c.Z)(C,2),A=N[0],k=N[1],z=(0,a.useState)(null),P=(0,c.Z)(z,2),B=P[0],R=P[1],D=(0,h.I0)(),I=(0,x.s0)();(0,a.useEffect)((function(){D((0,f.PO)(S,g))}),[D,S,g]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"section-main m-3 px-3 py-4 rounded-lg shadow-lg max-w-4xl ",children:[(0,j.jsx)(r.Z,{className:"mb-3",children:(0,j.jsx)(i.Z,{sm:12,md:4,lg:4,children:(0,j.jsx)(l.Z.Control,{type:"text",placeholder:"Search",onChange:function(e){var t=e.target.value;D(""===t?(0,f.PO)(S,g):(0,f.wN)(e.target.value,S))}})})}),(0,j.jsxs)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:[s?(0,j.jsx)(d.Z,{children:(0,j.jsx)(v.Z,{rows:10,columns:7,baseColor:"#afafaf",highlightColor:"#afafaf"})}):(0,j.jsxs)(d.Z,{responsive:!0,hover:!0,size:"sm",className:" mt-2",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:"Name"}),(0,j.jsx)("th",{children:"email"}),(0,j.jsx)("th",{children:"Role"}),(0,j.jsx)("th",{children:"Action"})]})}),(0,j.jsx)("tbody",{children:(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.length)>0?null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.map((function(e,t){return(0,j.jsxs)("tr",{className:"main-row",children:[(0,j.jsx)("td",{children:e.firstName+" "+e.lastName}),(0,j.jsx)("td",{children:e.email}),(0,j.jsx)("td",{children:e.role}),(0,j.jsx)("td",{children:(0,j.jsxs)("div",{children:[(0,j.jsx)(p.rCC,{className:"action-icon eye-icon",onClick:function(){return t=null===e||void 0===e?void 0:e.id,void I("/dashboard/allpersons/".concat(t));var t}}),(0,j.jsx)(u.VPh,{className:"action-icon delete-icon",onClick:function(){return t=null===e||void 0===e?void 0:e.id,k(!0),void R(t);var t}})]})})]},t)})):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:"5",className:"text-center",children:"No Persons Available"})})})]}),(null===o||void 0===o?void 0:o.totalRecords)>10&&(0,j.jsx)(y.R,{page:S+1,between:1,limit:10,total:null===o||void 0===o?void 0:o.totalRecords,changePage:function(e){b(e-1)},ellipsis:1}),A&&(0,j.jsx)(m.Z,{show:m.Z,onClose:function(){k(!1)},OnDelete:function(){D((0,f.cj)(B,g,(function(){D((0,f.PO)(S,g)),k(!1)})))},title:"Person"})]})]}),(null===o||void 0===o?void 0:o.totalRecords)>10&&(0,j.jsx)(y.R,{page:S+1,between:3,limit:10,total:null===o||void 0===o?void 0:o.totalRecords,changePage:function(e){return b(e-1)},ellipsis:1})]})},Z=(0,s.Z)((function(){var e=(0,x.s0)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.Z,{title:"All User",subtitle:"Manage Your Users",btnText:"Add New User",onClick:function(){return e("/dashboard/addperson")}}),(0,j.jsx)(g,{})]})}))},9833:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(2791),o=n(2677),s=n(9743),c=n(6856),r=n(184),i=function(e){var t=e.title,n=e.subtitle,i=e.btnText,l=e.onClick;e.className;return i?(0,r.jsxs)(s.Z,{className:"m-3 row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-2  ",children:[(0,r.jsx)(o.Z,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"header-title",children:t}),(0,r.jsx)("h4",{className:"header-subtitle",children:n})]})}),(0,r.jsx)(o.Z,{className:"text-start text-md-end text-lg-end",children:(0,r.jsxs)("button",{className:"rounded ".concat("Team Register"===i.trim()?"Team-register-btn":"gradient-btn-orange"," p-2"),onClick:l,children:[(0,r.jsx)(c.WZt,{fontSize:20}),i]})})]}):(0,r.jsx)(a.Fragment,{children:(0,r.jsx)(o.Z,{children:(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("h3",{className:"header-title",children:t}),(0,r.jsx)("h4",{className:"header-subtitle",children:n})]})})})}},171:function(e,t,n){n.d(t,{D0:function(){return i},Hj:function(){return r},PO:function(){return l},Z0:function(){return m},cj:function(){return p},dy:function(){return h},kN:function(){return u},tq:function(){return f},wN:function(){return d}});var a=n(2574),o=n(5394),s=n(447),c="https://api.usmlsa.com/",r=function(e,t,n,r){return function(i){i({type:a.cS,payload:!0}),o.Z.post("".concat(c,"api/persons/initial-registration"),e,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){console.log(e),i({type:a.CC}),i({type:a.cS,payload:!0}),n("ADMIN"===r?"/dashboard/allpersons":"/dashboard/allteams"),s.Z.success(e.data.message)})).catch((function(e){s.Z.error(e.message),i({type:a.cS,payload:!1})}))}},i=function(e,t,n,r){return function(i){i({type:a.cS,payload:!0}),o.Z.put("".concat(c,"api/persons/").concat(t),e,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e),i({type:a.QE}),i({type:a.cS,payload:!0}),s.Z.success(e.data.message),r&&r()})).catch((function(e){var t;s.Z.success(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message),i({type:a.cS,payload:!1})}))}},l=function(e,t){return function(n){n({type:a.cS,payload:!0}),o.Z.get("".concat(c,"api/persons?page=").concat(e,"&size=10"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){console.log(e,"response"),n({type:a.yI,payload:e.data}),n({type:a.cS,payload:!1})})).catch((function(e){404===e.response.status&&n({type:a.yI,payload:[]}),n({type:a.cS,payload:!1})}))}},d=function(e,t){return function(n){o.Z.get("".concat(c,"api/persons/search?name=").concat(e.toLowerCase(),"&page=").concat(t,"&size=10")).then((function(e){n({type:a.yI,payload:e.data})})).catch((function(e){404===e.response.status&&n({type:a.yI,payload:[]})}))}},u=function(e,t){return function(n){n({type:a.cS,payload:!0}),o.Z.get("".concat(c,"api/persons/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){n({type:a.wC,payload:e.data}),n({type:a.cS,payload:!1})})).catch((function(e){n({type:a.cS,payload:!1})}))}},p=function(e,t,n){return function(r){r({type:a.cS,payload:!0}),o.Z.delete("".concat(c,"api/persons/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){r({type:a.pJ}),r({type:a.cS,payload:!1}),s.Z.success(e.data.message),n&&n()})).catch((function(e){r({type:a.cS,payload:!0}),s.Z.error(e.response.data.message)}))}},h=function(e,t){return function(n){n({type:a.cS,payload:!0}),o.Z.post("".concat(c,"api/persons/forgot-password?email=").concat(e),{}).then((function(e){console.log("\ud83d\ude80 : ~ file: actionsCreators.js:135 ~ .then ~ response",e),n({type:a.rv,payload:e.data}),n({type:a.cS,payload:!1}),t("/auth/reset-password"),s.Z.success(e.data.message)})).catch((function(e){s.Z.error(e.response.data.error),n({type:a.cS,payload:!1})}))}},f=function(e,t,n,r){return function(i){i({type:a.cS,payload:!0}),o.Z.post("".concat(c,"api/persons/reset-password?email=").concat(e,"&newPassword=").concat(t,"&token=").concat(n,"\n"),{}).then((function(e){console.log(e),i({type:a.Ew,payload:e.data}),i({type:a.cS,payload:!1}),s.Z.success(e.data.message),r("/auth/login")})).catch((function(e){s.Z.error(e.response.data.error),i({type:a.cS,payload:!1})}))}},m=function(e,t,n){return function(r){var i=new FormData;i.append("file",n),r({type:a.cS,payload:!0}),o.Z.post("".concat(c,"api/persons/").concat(e,"/upload-picture"),i,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"multipart/form-data"}}).then((function(e){r({type:a.cS,payload:!1}),s.Z.success(e.data.message)})).catch((function(e){var t,n;s.Z.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"An error occurred"),r({type:a.cS,payload:!1})}))}}},8453:function(){}}]);
//# sourceMappingURL=825.ec16deee.chunk.js.map