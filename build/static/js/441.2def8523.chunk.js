"use strict";(self.webpackChunkusmlsa=self.webpackChunkusmlsa||[]).push([[441],{3465:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var s=n(9439),i=n(2791),a=n(1413),l=n(2321),d=n(9506),r=n(7689),o=n(2592),c=n(3479),u=n(9434),h=n(9042),m=n(8931),x=n(184);var v=function(){var e=(0,u.v9)((function(e){return e.user})).user,t=(0,i.useContext)(h.C).setIsSidebarOpen,n=null===e||void 0===e?void 0:e.access_token,s=(0,r.s0)();return(0,i.useEffect)((function(){localStorage.removeItem("persist:grow-share")}),[]),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(d.Z,{className:"bg-dark py-3 text-white justify-content-between justify-content-lg-baseline px-lg-5 ",children:[(0,x.jsx)(o.Z,{width:200,className:"ps-2",src:m,alt:""}),(0,x.jsx)("div",{className:"d-none d-lg-flex gap-3 me-4",children:n?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("button",{className:"text-white py-2 px-3 Login-btn rounded",onClick:function(){"ADMIN"===e.roles[0]?s("/dashboard"):"MANAGER"===e.roles[0]?s("/dashboard/allteams"):s("/dashboard/yourteam")},children:"Dashboard"})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{className:"text-white py-2 px-3 Login-btn rounded fw-bold",onClick:function(){return s("/auth/login")},children:"Login"}),(0,x.jsx)("button",{className:"text-white py-2 px-3 Signup-btn rounded fw-bold",onClick:function(){return s("/auth/register")},children:"Sign Up"})]})}),(0,x.jsx)("div",{className:"d-flex d-lg-none ",children:(0,x.jsx)(c.Bpg,{className:"icon",onClick:function(){return t((function(e){return!e}))},fontSize:30})})]})})},g=function(e){return function(t){var n=(0,r.TH)();return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(v,{}),(0,x.jsx)("div",{className:"",children:(0,x.jsxs)("main",{className:"",children:[["/myaccount"].includes(n.pathname)?null:(0,x.jsx)(l.Z,{}),(0,x.jsx)(e,(0,a.Z)({},t))]})})]})}},j=n(458),f=n(5316),b=n(3589),p=function(e){var t,n,s=e.show,i=e.onClose,a=e.divisionsData,l=e.loading,d=e.tournamentName;return(0,x.jsxs)(f.Z,{size:"xl",show:s,onHide:i,"aria-labelledby":"division-modal-title",children:[(0,x.jsx)(f.Z.Header,{closeButton:!0,className:"bg-light text-dark",children:(0,x.jsx)(f.Z.Title,{id:"division-modal-title",children:d})}),(0,x.jsx)(f.Z.Body,{className:"bg-light text-dark",children:l?(0,x.jsx)(b.Z,{}):(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.length)>0?(0,x.jsx)("div",{className:"list-group",children:null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.map((function(e,t){return(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center border-bottom py-2",children:[(0,x.jsx)("span",{className:"fw-bold fs-6",children:e.divisionName}),(0,x.jsxs)("span",{className:"text-dark fw-bold fs-6",children:["$",e.entryFee]})]},t)}))}):(0,x.jsx)("p",{className:"text-center",children:"No divisions available."})})]})},N=function(e){var t=e.show,n=e.onClose,s=e.description,i=e.loading;return(0,x.jsxs)(f.Z,{size:"lg",show:t,onHide:n,"aria-labelledby":"details-modal-title",children:[(0,x.jsx)(f.Z.Header,{closeButton:!0,className:"bg-light text-dark",children:(0,x.jsx)(f.Z.Title,{id:"details-modal-title",children:"Tournament Details"})}),(0,x.jsx)(f.Z.Body,{className:"bg-light text-dark",children:i?(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsx)(b.Z,{})}):(0,x.jsx)("p",{children:(0,x.jsx)("h6",{style:{whiteSpace:"pre-line"},children:s||"No description available."})})})]})},w=n(5394),y=n(8949),Z=n(3593),k=function(e){var t,n=e.show,s=e.onClose,i=e.divisionsData,a=e.loading,l=e.tournamentName;return console.log(i),(0,x.jsxs)(f.Z,{size:"xl",show:n,onHide:s,"aria-labelledby":"division-modal-title",children:[(0,x.jsx)(f.Z.Header,{closeButton:!0,className:"bg-light text-dark",children:(0,x.jsx)(f.Z.Title,{id:"division-modal-title",children:l})}),(0,x.jsx)(f.Z.Body,{className:"bg-light text-dark",children:a?(0,x.jsx)(b.Z,{}):(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.length)>0?(0,x.jsx)(y.Z,{children:i.data.map((function(e,t){var n;return(0,x.jsxs)(y.Z.Item,{eventKey:t.toString(),children:[(0,x.jsxs)(y.Z.Header,{children:[(0,x.jsx)("div",{className:"d-flex justify-content-between w-100",children:(0,x.jsx)("span",{className:"fw-bold",children:e.divisionName})}),(0,x.jsx)("div",{style:{width:"100%",maxWidth:"300px"},children:(0,x.jsx)(Z.Z,{now:e.registeredTeamsData.length/e.maxTeams*100,variant:"danger",label:"".concat((e.registeredTeamsData.length/e.maxTeams*100).toFixed(1),"%")})}),(0,x.jsxs)("span",{className:"fw-bold text-dark mx-2",children:["$",e.entryFee]})]}),(0,x.jsx)(y.Z.Body,{children:(null===(n=e.registeredTeamsData)||void 0===n?void 0:n.length)>0?(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",{className:"table table-bordered",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"#"}),(0,x.jsx)("th",{children:"Team Name"}),(0,x.jsx)("th",{children:"Division Name"}),(0,x.jsx)("th",{children:"Zip Code"}),(0,x.jsx)("th",{children:"Status"})]})}),(0,x.jsx)("tbody",{children:e.registeredTeamsData.map((function(t,n){return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:n+1}),(0,x.jsx)("td",{children:t.name}),(0,x.jsx)("td",{children:e.divisionName}),(0,x.jsx)("td",{children:t.zipCode}),(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"text-white my-2 p-2 rounded",style:{background:"ACTIVE"===(null===t||void 0===t?void 0:t.teamStatus)?"green":"red",fontSize:"12px"},children:null===t||void 0===t?void 0:t.teamStatus})})]},n)}))})]})}):(0,x.jsx)("p",{className:"text-muted",children:"No teams registered."})})]},t)}))}):(0,x.jsx)("p",{className:"text-center",children:"No divisions available."})})]})},C=function(e){e.id,e.description;var t,n,a=e.title,l=e.subtitle,d=e.ranking,o=e.startDate,c=e.endDate,u=e.img,h=e.numberOfRegisteredTeams,m=e.showNumberOfRegisteredTeams,v=e.showWhoIsComing,g=localStorage.getItem("Login"),f=JSON.parse(g),b=(0,r.s0)(),y=(0,i.useState)(!1),Z=(0,s.Z)(y,2),C=Z[0],T=Z[1],D=(0,i.useState)(!1),S=(0,s.Z)(D,2),R=S[0],I=S[1],E=(0,i.useState)(!1),F=(0,s.Z)(E,2),B=F[0],L=F[1],O=(0,i.useState)(""),A=(0,s.Z)(O,2),H=A[0],_=A[1],z=(0,i.useState)(!1),U=(0,s.Z)(z,2),W=U[0],M=U[1],P=(0,i.useState)([]),V=(0,s.Z)(P,2),$=V[0],q=V[1],G=(0,i.useState)(!1),J=(0,s.Z)(G,2),K=J[0],Y=J[1],Q=(0,i.useState)(!1),X=(0,s.Z)(Q,2),ee=X[0],te=X[1],ne=function(){T(!1),I(!1),Y(!1),_("")};return(0,i.useEffect)((function(){H&&(console.log(H,"tournamentName"),M(!0),w.Z.get("".concat("https://api.usmlsa.com/","api/divisions/search?tournamentName=").concat(encodeURIComponent(H))).then((function(e){q(e.data),console.log("TOURNEY DETAILS",e.data)})).catch((function(e){console.error("API Error:",e),q([])})).finally((function(){M(!1),B?(L(!1),I(!0)):ee?(Y(!0),te(!0),L(!1)):(T(!0),L(!1))})))}),[H]),(0,x.jsxs)("div",{className:"event-card",children:[(0,x.jsx)("div",{className:"event-card-img",children:(0,x.jsx)("img",{src:u,alt:"tournament"})}),(0,x.jsxs)("div",{className:"event-card-body",children:[(0,x.jsx)("div",{children:(0,x.jsx)("span",{className:"event-location p-1 text-white rounded fs-6",style:{background:"ACTIVE"===a?"green":"red"},children:a})}),(0,x.jsxs)("h6",{className:"text-black fs-6",children:[(0,x.jsx)(j.v2c,{color:"black"}),l]}),(0,x.jsx)("h3",{className:"event-title fs-5",children:d}),(0,x.jsxs)("span",{className:"event-date",children:["Start Date: ",o]}),(0,x.jsxs)("span",{className:"event-date",children:["End Date: ",c]}),m&&(0,x.jsx)("div",{children:(0,x.jsxs)("span",{className:"bg-dark text-white rounded p-1",children:["No of Registered Teams:"," ",h>0?h:0]})}),(0,x.jsxs)("div",{className:"event-buttons",children:[(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("button",{className:"event-button bg-green",onClick:function(){return e=d,L(!1),_(e),void te(!0);var e},children:"More Info"})}),v&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{className:"event-button bg-warning",onClick:function(){return e=d,L(!0),_(e),void te(!1);var e},children:"Who's Coming"}),(0,x.jsx)("button",{className:"event-button bg-dark text-white",onClick:function(){_(d)},children:"Division"})]}),(0,x.jsx)("button",{className:"event-button Login-btn text-white",onClick:function(){b(f?"/myaccount":"/auth/login")},children:f?"Buy Now":"Register"})]})]}),(0,x.jsx)(p,{show:C,onClose:ne,divisionsData:$,loading:W,tournamentName:H}),(0,x.jsx)(k,{show:R,onClose:ne,divisionsData:$,loading:W,tournamentName:H}),(0,x.jsx)(N,{show:K,onClose:ne,description:(null===$||void 0===$||null===(t=$.data)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.description)||"",loading:W})]})},T=n(8923),D=n(4947),S=n(9673),R=g((function(){var e,t=(0,i.useState)(0),n=(0,s.Z)(t,2),a=n[0],l=n[1],d=(0,u.v9)((function(e){return e.tournament})),r=d.DefaultTournamentData,o=d.isLoading,c=(0,u.I0)();return(0,i.useEffect)((function(){c((0,T.xT)(a))}),[c,a]),(0,x.jsxs)("div",{className:"p-2 mt-2",children:[(0,x.jsxs)("div",{className:"mx-lg-5 search-box rounded",children:[(0,x.jsx)("h2",{className:"text-center text-uppercase py-2 fw-bold Login-btn text-white rounded-top",children:"Featured Events"}),o?(0,x.jsx)(D.Z,{}):(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.length)>0?(0,x.jsx)("div",{className:"event-grid",children:r.data.map((function(e,t){var n="https://media.bleacherreport.com/image/upload/c_fill,g_faces,w_3800,h_2000,q_95/v1677098974/ajakxjd0xfrxtu8ru7bo.jpg";if(e.picture)try{for(var s=atob(e.picture),i=new Uint8Array(s.length),a=0;a<s.length;a++)i[a]=s.charCodeAt(a);var l=new Blob([i],{type:"image/jpeg"});n=URL.createObjectURL(l)}catch(d){console.error("Error decoding image",d)}return(0,x.jsx)(C,{id:"",description:"",title:null===e||void 0===e?void 0:e.status,subtitle:null===e||void 0===e?void 0:e.venueName,ranking:null===e||void 0===e?void 0:e.name,numberOfRegisteredTeams:e.numberOfRegisteredTeams,showNumberOfRegisteredTeams:e.showNumberOfRegisteredTeams,points:null===e||void 0===e?void 0:e.points,showWhoIsComing:e.showWhoIsComing,img:n,startDate:null===e||void 0===e?void 0:e.startDate,endDate:null===e||void 0===e?void 0:e.endDate},t)}))}):(0,x.jsx)("div",{className:"d-flex justify-content-center flex-grow-1",children:(0,x.jsx)("h2",{className:"text-center text-danger mt-5",children:"No Records Found."})})]}),(0,x.jsx)("div",{className:"my-4",children:r.totalRecords>10&&(0,x.jsx)(S.R,{page:a+1,between:3,limit:10,total:r.totalRecords,changePage:function(e){return l(e-1)},ellipsis:1})})]})}))},8931:function(e,t,n){e.exports=n.p+"static/media/usmlsa_logo.43ff21a4f3396919c79e.png"}}]);
//# sourceMappingURL=441.2def8523.chunk.js.map