"use strict";(self.webpackChunkusmlsa=self.webpackChunkusmlsa||[]).push([[325],{3486:function(e,a,t){var n=t(1413),s=t(5987),o=(t(2791),t(184)),r=["label","type","touched","value","error","className","labelClassName","min"];a.Z=function(e){var a=e.label,t=e.type,l=e.touched,c=e.value,u=e.error,d=e.className,i=e.labelClassName,m=e.min,f=(0,s.Z)(e,r),p="textarea"===t;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("label",{htmlFor:f.name,className:null!==i&&void 0!==i?i:"",children:a}),p?(0,o.jsx)("textarea",(0,n.Z)((0,n.Z)({},f),{},{value:null!==c&&void 0!==c?c:"",className:d,rows:4})):(0,o.jsx)("input",(0,n.Z)((0,n.Z)({},f),{},{value:null!==c&&void 0!==c?c:"",type:t,className:d,autoComplete:"off",min:"number"===t?0:m})),l&&u?(0,o.jsx)("p",{className:"text-danger",children:u}):null]})}},1325:function(e,a,t){t.r(a),t.d(a,{default:function(){return v}});var n=t(2791),s=t(4942),o=t(5705),r=t(3486),l=t(6359),c=t(9434),u=t(969),d=t(6008),i=t(9743),m=t(9042),f=t(7689),p=t(3589),h=t(184),x=function(){var e=(0,c.I0)(),a=(0,c.v9)((function(e){return e.user})).user,t=(0,c.v9)((function(e){return e.venue})),x=t.VenuDetails,v=t.isLoading,y=(0,n.useContext)(m.C),b=y.VenueEdit,N=y.VenueId,g=(0,f.s0)(),C=null===a||void 0===a?void 0:a.access_token,j=(0,o.TA)({initialValues:{name:"",address1:"",address2:"",city:"",state:"",numberOfFields:null,venueStatus:"",zipCode:""},validationSchema:l.OK,onSubmit:function(a,t){t.resetForm();var n={name:a.name,address1:a.address1,address2:a.address2,city:a.city,state:a.state,zipCode:a.zipCode,numberOfFields:a.numberOfFields,venueStatus:a.venueStatus};e(b?(0,u.Gt)(n,C,N,g):(0,u.f5)(n,C,g))}}),S=j.values,Z=j.handleChange,w=j.errors,z=j.handleSubmit,F=j.setValues,O=j.touched;return(0,n.useEffect)((function(){b&&N&&e((0,u.WR)(N,C))}),[e,b,N,C]),(0,n.useEffect)((function(){var e;b&&x&&F((e={name:x.name||"",address1:x.address1||"",address2:x.address2||"",city:x.city||"",state:x.state||"",zipCode:x.zipCode||"",numberOfFields:x.numberOfFields||""},(0,s.Z)(e,"zipCode",x.zipCode),(0,s.Z)(e,"venueStatus",x.statusVenue||""),e))}),[x,b,F]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h4",{className:"my-3 fw-bold",children:b?"Update Venue":"Add Venue"}),(0,h.jsx)("form",{onSubmit:z,children:(0,h.jsxs)(i.Z,{className:"row gy-3 row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-2",children:[(0,h.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,h.jsx)(r.Z,{type:"text",name:"name",label:"Venue Name",onChange:Z,value:S.name,className:"form-control",touched:O.name,error:w.name})}),(0,h.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,h.jsx)(r.Z,{type:"text",name:"address1",label:"Address 1",onChange:Z,value:S.address1,className:"form-control",touched:O.address1,error:w.address1})}),(0,h.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,h.jsx)(r.Z,{type:"text",name:"address2",label:"Address 2",onChange:Z,value:S.address2,className:"form-control",touched:O.address2,error:w.address2})}),(0,h.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,h.jsx)(r.Z,{type:"text",name:"city",label:"City",onChange:Z,value:S.city,className:"form-control",touched:O.city,error:w.city})}),(0,h.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,h.jsx)(r.Z,{type:"text",name:"state",label:"State",onChange:Z,value:S.state,className:"form-control",touched:O.state,error:w.state})}),(0,h.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,h.jsx)(r.Z,{type:"text",name:"zipCode",label:"Zip Code",onChange:Z,value:S.zipCode,className:"form-control",touched:O.zipCode,error:w.zipCode})}),(0,h.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,h.jsx)(r.Z,{type:"number",name:"numberOfFields",label:"Number Of Fields",onChange:Z,value:S.numberOfFields,className:"form-control",touched:O.numberOfFields,error:w.numberOfFields})}),(0,h.jsx)("div",{className:"d-flex flex-column  flex-grow-1",children:(0,h.jsx)(d.Z,{label:"Venue Status",name:"venueStatus",deFaultValue:"Select Status",options:[{value:"CLOSED",label:"CLOSED"},{value:"OPEN",label:"OPEN"},{value:"UNDER_MAINTENANCE",label:"UNDER_MAINTENANCE"}],value:S.venueStatus,onChange:Z,touched:O.venueStatus,error:w.venueStatus,className:"form-control"})}),(0,h.jsx)("div",{className:"d-flex justify-content-center flex-grow-1 ",children:(0,h.jsx)("button",{type:"submit",className:"mt-3 gradient-btn-orange",children:v?(0,h.jsx)(p.Z,{}):"Submit"})})]})})]})},v=(0,t(3719).Z)((function(){return(0,h.jsx)(x,{})}))},969:function(e,a,t){t.d(a,{Al:function(){return d},Gt:function(){return i},WR:function(){return u},f5:function(){return l},jx:function(){return m},xj:function(){return c}});var n=t(806),s=t(447),o=t(5394),r="https://api.usmlsa.com/",l=function(e,a,t){return function(l){l({type:n.cS,payload:!0}),o.Z.post("".concat(r,"api/venues"),e,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}}).then((function(e){l({type:n.dx}),t("/dashboard/allvenue"),s.Z.success(e.data.message),l({type:n.cS,payload:!1})})).catch((function(e){s.Z.error(e.response.data.message),l({type:n.cS,payload:!1})}))}},c=function(e){return function(a){a({type:n.cS,payload:!0}),o.Z.get("".concat(r,"api/venues?page=").concat(e,"&size=10")).then((function(e){var t=null===e||void 0===e?void 0:e.data;a({type:n.Iv,payload:t}),a({type:n.cS,payload:!1})})).catch((function(e){404===e.response.status&&a({type:n.Iv,payload:[]}),a({type:n.cS,payload:!1})}))}},u=function(e,a){return function(t){t({type:n.cS,payload:!0}),o.Z.get("".concat(r,"api/venues/").concat(e),{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){var a=e.data.data||[];t({type:n.iX,payload:a}),t({type:n.cS,payload:!1})})).catch((function(e){t({type:n.cS,payload:!1})}))}},d=function(e,a,t){return function(l){l({type:n.cS,payload:!0}),o.Z.delete("".concat(r,"api/venues/").concat(e),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){l({type:n.n_}),l({type:n.cS,payload:!1}),s.Z.success(e.data.message),t&&t()})).catch((function(e){console.log("error"),l({type:n.cS,payload:!1}),s.Z.error(e.response.data.message)}))}},i=function(e,a,t,l){return function(c){o.Z.put("".concat(r,"api/venues/").concat(t),e,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){c({type:n.QD}),l("/dashboard/allvenue"),s.Z.success(e.data.message)})).catch((function(e){s.Z.error(e.response.data.message)}))}},m=function(e){return function(a){o.Z.get("".concat(r,"api/venues/search?name=").concat(e.toLowerCase(),"&page=0&size=10")).then((function(e){a({type:n.Iv,payload:e.data})})).catch((function(e){console.log("\ud83d\ude80 ~ SearchVenue ~ error:",e)}))}}}}]);
//# sourceMappingURL=325.adbcca9d.chunk.js.map