"use strict";(self.webpackChunkusmlsa=self.webpackChunkusmlsa||[]).push([[309],{5309:function(e,n,s){s.r(n),s.d(n,{default:function(){return b}});var t=s(9439),a=s(2791),o=s(5705),r=s(3486),i=s(6359),l=s(9434),m=s(8923),u=s(6008),c=s(9743),d=s(7689),h=s(9042),f=s(3589),x=s(184),v=function(){var e,n,s=(0,l.I0)(),t=(0,l.v9)((function(e){return e.user})).user,v=(0,l.v9)((function(e){return e.tournament})).TournamentDetails,g=(0,l.v9)((function(e){return e.venue})),w=g.VenueData,b=g.isLoading,D=(0,a.useContext)(h.C),j=D.TournamentEdit,N=D.TournamentId,p=(0,d.s0)(),C=null===t||void 0===t?void 0:t.access_token,S=w&&(null===w||void 0===w||null===(e=w.data)||void 0===e?void 0:e.length)>0?null===w||void 0===w||null===(n=w.data)||void 0===n?void 0:n.map((function(e){return{value:null===e||void 0===e?void 0:e.venueId,label:null===e||void 0===e?void 0:e.name}})):[],I=(0,o.TA)({initialValues:{name:"",startDate:"",endDate:"",tournamentStatus:"",numberOfDivisions:null,venueId:null,whoIsComing:!1,showRegisteredTeams:!1,description:""},validationSchema:i.$2,onSubmit:function(e,n){var t;t=""===e.venueId?{name:e.name,startDate:e.startDate,endDate:e.endDate,tournamentStatus:e.tournamentStatus,numberOfDivisions:e.numberOfDivisions,showWhoIsComing:e.whoIsComing,showNumberOfRegisteredTeams:e.showRegisteredTeams,description:e.description}:{name:e.name,startDate:e.startDate,endDate:e.endDate,tournamentStatus:e.tournamentStatus,numberOfDivisions:e.numberOfDivisions,venueId:Number(e.venueId),showWhoIsComing:e.whoIsComing,showNumberOfRegisteredTeams:e.showRegisteredTeams,description:e.description},s(j?(0,m.xJ)(N,t,C,p):(0,m.NI)(t,C,p)),n.resetForm()}}),T=I.values,O=I.handleChange,k=I.errors,F=I.handleSubmit,E=I.setValues,R=I.touched,y=I.setFieldValue;(0,a.useEffect)((function(){j&&v&&s((0,m.Lw)(N,C))}),[j,s,C,N]),(0,a.useEffect)((function(){j&&v&&E({name:v.name||"",startDate:v.startDate||"",endDate:v.endDate||"",tournamentStatus:v.status||"",numberOfDivisions:v.numberOfDivisions||"",whoIsComing:v.showWhoIsComing,showRegisteredTeams:v.showNumberOfRegisteredTeams,description:v.description})}),[v,j,E]);var Z=(new Date).toISOString().split("T")[0];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h4",{className:"my-3 fw-bold",children:j?"Update Tournament":"Add Tournament"}),(0,x.jsx)("form",{onSubmit:F,children:(0,x.jsxs)(c.Z,{className:"row gy-3 row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-2",children:[(0,x.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,x.jsx)(r.Z,{type:"text",name:"name",label:"Tournament Name",onChange:O,value:T.name,className:"form-control",touched:R.name,error:k.name})}),(0,x.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,x.jsx)(r.Z,{type:"textarea",name:"description",label:"Tournament Description",onChange:O,value:T.description,className:"form-control",touched:R.description,error:k.description})}),(0,x.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,x.jsx)(r.Z,{type:"date",name:"startDate",label:"Start Date",onChange:O,value:T.startDate,className:"form-control",touched:R.startDate,error:k.startDate,min:Z})}),(0,x.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,x.jsx)(r.Z,{type:"date",name:"endDate",label:"End Date",onChange:O,value:T.endDate,className:"form-control",touched:R.endDate,error:k.endDate,min:T.startDate||Z})}),(0,x.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,x.jsx)(u.Z,{options:[{value:"ACTIVE",label:"ACTIVE"},{value:"COMPLETED",label:"COMPLETED"},{value:"CANCELED",label:"CANCELED"}],onChange:O,deFaultValue:"Select Status",label:"Status",name:"tournamentStatus",touched:R.tournamentStatus,error:k.tournamentStatus,value:T.tournamentStatus,className:"form-control"})}),(0,x.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,x.jsx)(r.Z,{type:"number",name:"numberOfDivisions",label:"Number Of Divisions",onChange:O,value:T.numberOfDivisions,className:"form-control",touched:R.numberOfDivisions,error:k.numberOfDivisions})}),(0,x.jsx)("div",{className:"d-flex flex-column  flex-grow-1",children:(0,x.jsx)(u.Z,{deFaultValue:"Select Venue",label:"Select Venue *",name:"venueId",options:S,value:T.venueId,onChange:O,touched:R.venueId,error:k.venueId,className:"form-control"})}),(0,x.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,x.jsxs)("div",{className:"form-check form-switch",children:[(0,x.jsx)("input",{className:"form-check-input",type:"checkbox",id:"whoIsComingSwitch",name:"whoIsComing",checked:T.whoIsComing,onChange:function(){return y("whoIsComing",!T.whoIsComing)}}),(0,x.jsx)("label",{className:"form-check-label",htmlFor:"whoIsComingSwitch",children:"Who's Coming"})]})}),(0,x.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,x.jsxs)("div",{className:"form-check form-switch",children:[(0,x.jsx)("input",{className:"form-check-input",type:"checkbox",id:"showRegisteredTeamsSwitch",name:"showRegisteredTeams",checked:T.showRegisteredTeams,onChange:function(){return y("showRegisteredTeams",!T.showRegisteredTeams)}}),(0,x.jsx)("label",{className:"form-check-label",htmlFor:"showRegisteredTeamsSwitch",children:"Show Registered Teams"})]})}),(0,x.jsx)("div",{className:"d-flex justify-content-center flex-grow-1 ",children:(0,x.jsx)("button",{type:"submit",className:"mt-3 gradient-btn-orange rounded",children:b?(0,x.jsx)(f.Z,{}):"Submit"})})]})})]})},g=s(3719),w=s(9381),b=(0,g.Z)((function(){var e=(0,a.useState)("tournamentForm"),n=(0,t.Z)(e,2),s=n[0],o=n[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"d-flex gap-3 justify-content-end align-items-center",children:[(0,x.jsxs)("label",{className:"switch",children:[(0,x.jsx)("input",{type:"checkbox",onChange:function(){o((function(e){return"tournamentForm"===e?"divisionForm":"tournamentForm"}))}}),(0,x.jsx)("span",{className:"slider"})]}),(0,x.jsx)("p",{className:"p-0 m-0 fw-bold",children:"tournamentForm"===s?"Division Form":"Tournament Form"})]}),"tournamentForm"===s?(0,x.jsx)(v,{}):(0,x.jsx)(w.Z,{})]})}))}}]);
//# sourceMappingURL=309.dcfe72c5.chunk.js.map