"use strict";(self.webpackChunkusmlsa=self.webpackChunkusmlsa||[]).push([[961],{3486:function(e,a,n){var t=n(1413),o=n(5987),r=(n(2791),n(184)),c=["label","type","touched","value","error","className","labelClassName","min"];a.Z=function(e){var a=e.label,n=e.type,s=e.touched,u=e.value,l=e.error,i=e.className,d=e.labelClassName,p=e.min,m=(0,o.Z)(e,c),y="textarea"===n;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{htmlFor:m.name,className:null!==d&&void 0!==d?d:"",children:a}),y?(0,r.jsx)("textarea",(0,t.Z)((0,t.Z)({},m),{},{value:null!==u&&void 0!==u?u:"",className:i,rows:4})):(0,r.jsx)("input",(0,t.Z)((0,t.Z)({},m),{},{value:null!==u&&void 0!==u?u:"",type:n,className:i,autoComplete:"off",min:"number"===n?0:p})),s&&l?(0,r.jsx)("p",{className:"text-danger",children:l}):null]})}},3961:function(e,a,n){n.r(a),n.d(a,{default:function(){return Z}});var t=n(2791),o=n(1413),r=n(9439),c=n(5630),s=n(9743),u=n(2677),l=n(3486),i=n(6008),d=n(5705),p=n(9434),m=n(1616),y=n(9042),f=n(7689),h=n(6359),g=n(3589),v=n(184);var S=function(){var e=(0,p.v9)((function(e){return e.user})).user,a=(0,p.v9)((function(e){return e.team})),n=a.TeamDetailsData,S=a.isLoading,Z=(0,t.useContext)(y.C),A=Z.TeamEdit,x=Z.TeamId,b=(0,t.useState)(!1),j=(0,r.Z)(b,2),C=j[0],z=j[1],R=null===e||void 0===e?void 0:e.access_token,N=(0,p.I0)(),w=(0,f.s0)(),T={name:"",email:C?null===e||void 0===e?void 0:e.email:"",address:"",points:null,ranking:null,city:"",state:"",gamesWin:null,gamesLost:null,gamesTied:null,avgRunsScored:null,avgRunsAllowed:null,avgRunsDiff:null,runScored:null,runAllowed:null,teamStatus:"",zipCode:""},B=(0,d.TA)({initialValues:T,validationSchema:h.EQ,onSubmit:function(a,t){var o;console.log(a,"values"),A?(o={name:a.name,email:a.email,address:a.address,points:a.points,ranking:a.ranking,zipCode:a.zipCode,city:a.city,state:a.state,gamesWin:a.gamesWin,gamesLost:a.gamesLost,gamesTied:a.gamesTied,avgRunsScored:a.avgRunsScored,avgRunsAllowed:a.avgRunsAllowed,avgRunsDiff:a.avgRunsDiff,runScored:a.runScored,runAllowed:a.runAllowed,teamStatus:"ACTIVE",managerId:n.managerId},N((0,m.Ft)(x,o,R,w))):(o={name:a.name,email:C?null===e||void 0===e?void 0:e.email:a.email,address:a.address,zipCode:a.zipCode,city:a.city,state:a.state,teamStatus:"ACTIVE"},N((0,m.T5)(o,R,w)),z(!1)),t.resetForm()}}),D=B.values,k=B.handleChange,I=B.errors,L=B.handleSubmit,E=B.setValues,F=B.touched;return B.resetForm,(0,t.useEffect)((function(){A&&n&&N((0,m.jq)(x,R))}),[A,N]),(0,t.useEffect)((function(){var e,a,t,o,r,c,s,u,l,i,d,p,m,y,f,h,g;A&&n&&E({name:null!==(e=n.name)&&void 0!==e?e:"",email:null!==(a=n.email)&&void 0!==a?a:"",address:null!==(t=n.address)&&void 0!==t?t:"",points:null!==(o=n.points)&&void 0!==o?o:0,ranking:null!==(r=n.ranking)&&void 0!==r?r:0,city:null!==(c=n.city)&&void 0!==c?c:"",state:null!==(s=n.state)&&void 0!==s?s:"",gamesWin:null!==(u=n.gamesWin)&&void 0!==u?u:0,gamesLost:null!==(l=n.gamesLost)&&void 0!==l?l:0,gamesTied:null!==(i=n.gamesTied)&&void 0!==i?i:0,avgRunsScored:null!==(d=n.avgRunsScored)&&void 0!==d?d:0,avgRunsAllowed:null!==(p=n.avgRunsAllowed)&&void 0!==p?p:0,avgRunsDiff:null!==(m=n.avgRunsDiff)&&void 0!==m?m:0,runScored:null!==(y=n.runScored)&&void 0!==y?y:0,runAllowed:null!==(f=n.runAllowed)&&void 0!==f?f:0,teamStatus:null!==(h=n.teamStatus)&&void 0!==h?h:"",zipCode:null!==(g=n.zipCode)&&void 0!==g?g:""})}),[n,A,E]),(0,v.jsxs)("div",{className:"mt-3",children:[(0,v.jsx)("h4",{className:"mb-3 fw-bold",children:A?"Update Team":"Add Team"}),(0,v.jsxs)("form",{onSubmit:L,children:[(0,v.jsx)(c.Z.Check,{type:"switch",id:"use-user-email-switch",label:"Use My Email",className:"custom-switch",checked:C,onChange:function(){z(!C),E((function(a){return(0,o.Z)((0,o.Z)({},a),{},{email:C?"":null===e||void 0===e?void 0:e.email})}))}}),(0,v.jsxs)(s.Z,{className:"gy-3",children:[(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"text",name:"name",label:"Team Name",onChange:k,value:D.name,className:"form-control",touched:F.name,error:I.name})}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"email",name:"email",label:"Email",onChange:k,value:D.email,className:"form-control",touched:F.email,error:I.email})}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"text",name:"address",label:"Address",onChange:k,value:D.address,className:"form-control",touched:F.address,error:I.address})}),A&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"number",name:"points",label:"Team Points",onChange:k,value:D.points,className:"form-control",touched:F.points,error:I.points})}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"number",name:"ranking",label:"Team Ranking",onChange:k,value:D.ranking,className:"form-control",touched:F.ranking,error:I.ranking})}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"number",name:"gamesWin",label:"Games Win",onChange:k,value:D.gamesWin,className:"form-control",touched:F.gamesWin,error:I.gamesWin})}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"number",name:"gamesLost",label:"Games Lost",onChange:k,value:D.gamesLost,className:"form-control",touched:F.gamesLost,error:I.gamesLost})}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"number",name:"gamesTied",label:"Games Tied",onChange:k,value:D.gamesTied,className:"form-control",touched:F.gamesTied,error:I.gamesTied})}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"number",name:"avgRunsScored",label:"Avg Runs Scored",onChange:k,value:D.avgRunsScored,className:"form-control",touched:F.avgRunsScored,error:I.avgRunsScored})}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"number",name:"avgRunsAllowed",label:"Avg Runs Allowed",onChange:k,value:D.avgRunsAllowed,className:"form-control",touched:F.avgRunsAllowed,error:I.avgRunsAllowed})}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"number",name:"avgRunsDiff",label:"Avg Runs Diff",onChange:k,value:D.avgRunsDiff,className:"form-control",touched:F.avgRunsDiff,error:I.avgRunsDiff})}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"number",name:"runScored",label:"Run Scored",onChange:k,value:D.runScored,className:"form-control",touched:F.runScored,error:I.runScored})}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"number",name:"runAllowed",label:"Run Allowed",onChange:k,value:D.runAllowed,className:"form-control",touched:F.runAllowed,error:I.runAllowed})}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(i.Z,{options:[{value:"ACTIVE",label:"ACTIVE"},{value:"INACTIVE",label:"INACTIVE"},{value:"DISBANDED",label:"DISBANDED"}],deFaultValue:"ACTIVE",onChange:k,label:"Team Status",name:"teamStatus",touched:F.teamStatus,error:I.teamStatus,value:D.teamStatus,className:"form-control"})})]}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"text",name:"city",label:"City",onChange:k,value:D.city,className:"form-control",touched:F.city,error:I.city})}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"text",name:"state",label:"State",onChange:k,value:D.state,className:"form-control",touched:F.state,error:I.state})}),(0,v.jsx)(u.Z,{md:4,children:(0,v.jsx)(l.Z,{type:"text",name:"zipCode",label:"Zip Code",onChange:k,value:D.zipCode,className:"form-control",touched:F.zipCode,error:I.zipCode})})]}),(0,v.jsx)("div",{className:"d-flex justify-content-center",children:(0,v.jsx)("button",{type:"submit",className:"mt-3 gradient-btn-orange",children:S?(0,v.jsx)(g.Z,{}):"Submit"})})]})]})},Z=(0,n(3719).Z)((function(){return(0,v.jsx)(S,{})}))},1616:function(e,a,n){n.d(a,{Ad:function(){return z},Af:function(){return g},An:function(){return w},E1:function(){return j},Fl:function(){return d},Ft:function(){return m},Hl:function(){return p},MJ:function(){return N},S2:function(){return b},T5:function(){return l},UH:function(){return A},Uf:function(){return v},XW:function(){return C},_h:function(){return h},dq:function(){return S},f5:function(){return Z},hg:function(){return i},jq:function(){return y},jw:function(){return R},q7:function(){return f},yC:function(){return x}});var t=n(4165),o=n(5861),r=n(644),c=n(5394),s=n(447),u="https://api.usmlsa.com/",l=function(e,a,n){return function(t){t({type:r.cS,payload:!0}),c.Z.post("".concat(u,"api/teams"),e,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){t({type:r.LF}),t({type:r.cS,payload:!1}),n("/dashboard/allteams"),s.Z.success("Team added successfully")})).catch((function(e){400===e.status&&t({type:r.cS,payload:!1}),s.Z.error(e.response.data.message)}))}},i=function(e,a,n,t){return function(o){var s;o({type:r.cS,payload:!0}),c.Z.get("ADMIN"===(null===n||void 0===n?void 0:n.role)||null!==n&&void 0!==n&&null!==(s=n.roles)&&void 0!==s&&s.includes("ADMIN")?" ".concat(u,"api/teams?page=").concat(e,"&size=10 "):"".concat(u,"api/teams/all/").concat(t,"?page=").concat(e,"&size=10"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){o({type:r.WX,payload:e.data}),o({type:r.cS,payload:!1})})).catch((function(e){404===e.response.status&&o({type:r.WX,payload:[]}),o({type:r.cS,payload:!1})}))}},d=function(e,a){return function(n){c.Z.get("".concat(u,"api/teams/search?name=").concat(e.toLowerCase(),"&page=0&size=10"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){n({type:r.WX,payload:e.data})})).catch((function(e){404===e.response.status&&n({type:r.WX,payload:[]})}))}},p=function(e,a,n){return function(t){t({type:r.cS,payload:!0}),c.Z.delete("".concat(u,"api/teams/").concat(e),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){t({type:r.iN}),t({type:r.cS,payload:!1}),s.Z.success(e.data.message),n&&n()})).catch((function(e){s.Z.error(e.response.data.message),t({type:r.cS,payload:!0})}))}},m=function(e,a,n,t){return function(o){console.log("\ud83d\ude80 ~ UpdateTeams ~ data:",a),o({type:r.cS,payload:!0}),c.Z.put("".concat(u,"api/teams/").concat(e),a,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){o({type:r.GB}),o({type:r.cS,payload:!1}),t("/dashboard/allteams"),s.Z.success(e.data.message)})).catch((function(e){s.Z.error(e.response.data.message),o({type:r.cS,payload:!0})}))}},y=function(e,a){return function(n){n({type:r.cS,payload:!0}),c.Z.get("".concat(u,"api/teams/").concat(e),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){n({type:r.bn,payload:e.data.data}),n({type:r.cS,payload:!1})})).catch((function(e){n({type:r.cS,payload:!1})}))}},f=function(e,a){return function(n){n({type:r.cS,payload:!0}),c.Z.get("".concat(u,"api/teams/").concat(e,"/members"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){n({type:r.zj,payload:e.data.data}),n({type:r.cS,payload:!1})})).catch((function(e){n({type:r.cS,payload:!1})}))}},h=function(e,a,n){return function(){var l=(0,o.Z)((0,t.Z)().mark((function o(l){var i,d,p;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l({type:r.cS,payload:!0}),t.prev=1,t.next=4,c.Z.post("".concat(u,"api/teams/").concat(e,"/co-manager/").concat(a),{},{headers:{Authorization:"Bearer ".concat(n)}});case 4:return i=t.sent,l({type:r.ru}),s.Z.success(i.data.message),t.abrupt("return",Promise.resolve());case 10:return t.prev=10,t.t0=t.catch(1),s.Z.error((null===(d=t.t0.response)||void 0===d||null===(p=d.data)||void 0===p?void 0:p.message)||"Something went wrong."),t.abrupt("return",Promise.reject());case 14:return t.prev=14,l({type:r.cS,payload:!1}),t.finish(14);case 17:case"end":return t.stop()}}),o,null,[[1,10,14,17]])})));return function(e){return l.apply(this,arguments)}}()},g=function(e,a,n){return function(t){t({type:r.cS,payload:!0}),c.Z.get("".concat(u,"api/persons/search?role=").concat(e,"&page=").concat(n,"&size=10"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){t({type:r.Xi,payload:e.data}),t({type:r.cS,payload:!1})})).catch((function(e){404===e.response.status&&t({type:r.Xi,payload:[]}),t({type:r.cS,payload:!1})}))}},v=function(e,a,n){return function(){var l=(0,o.Z)((0,t.Z)().mark((function o(l){var i,d;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l({type:r.cS,payload:!0}),t.prev=1,t.next=4,c.Z.post("".concat(u,"api/teams/").concat(e,"/players/").concat(a),{},{headers:{Authorization:"Bearer ".concat(n)}});case 4:return t.sent,l({type:r.vO}),s.Z.success("Player added successfully"),t.abrupt("return",Promise.resolve());case 10:return t.prev=10,t.t0=t.catch(1),s.Z.error((null===(i=t.t0.response)||void 0===i||null===(d=i.data)||void 0===d?void 0:d.message)||"Something went wrong."),t.abrupt("return",Promise.reject());case 14:return t.prev=14,l({type:r.cS,payload:!1}),t.finish(14);case 17:case"end":return t.stop()}}),o,null,[[1,10,14,17]])})));return function(e){return l.apply(this,arguments)}}()},S=function(e,a,n){return function(t){t({type:r.cS,payload:!0}),c.Z.get("".concat(u,"api/persons/player-list-not-in-current-team/").concat(e,"?page=").concat(a,"&size=10"),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){t({type:r.ke,payload:e.data}),t({type:r.cS,payload:!1})})).catch((function(e){404===e.response.status&&t({type:r.ke,payload:[]}),t({type:r.cS,payload:!1})}))}},Z=function(e,a,n){return function(t){t({type:r.cS,payload:!0}),c.Z.put("".concat(u,"api/tournaments/").concat(e,"/assign-venue/").concat(a),{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){t({type:r.ru}),t({type:r.cS,payload:!1}),s.Z.success(e.data.message)})).catch((function(e){s.Z.success(e.data.message),t({type:r.cS,payload:!0})}))}},A=function(e,a,n){return function(t){t({type:r.cS,payload:!0}),c.Z.get("".concat(u,"api/teams/all/").concat(e,"?page=").concat(a,"&size=10"),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){t({type:r.Mx,payload:e.data}),t({type:r.cS,payload:!1})})).catch((function(e){t({type:r.cS,payload:!0})}))}},x=function(e,a,n){var t=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return function(i){i({type:r.cS,payload:!0});var d=l?"divisionId=".concat(l,"&page=").concat(a,"&size=10&forceFirstAndLastRels=true"):o?"tournamentId=".concat(o,"&page=").concat(a,"&size=10&forceFirstAndLastRels=true"):t?"paymentDoneBy=".concat(e,"&page=").concat(a,"&size=10&forceFirstAndLastRels=true"):"teamId=".concat(e,"&page=").concat(a,"&size=10&forceFirstAndLastRels=true");c.Z.get("".concat(u,"api/payment-records?").concat(d),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){i({type:r.Do,payload:e.data}),i({type:r.cS,payload:!1})})).catch((function(e){s.Z.error(e.response.data.message),i({type:r.cS,payload:!0})}))}},b=function(e){return function(a){a({type:r.cS,payload:!0}),c.Z.get("".concat(u,"api/payment-records?page=0&size=10&forceFirstAndLastRels=true"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){a({type:r.Do,payload:e.data}),a({type:r.cS,payload:!1})})).catch((function(e){s.Z.error(e.response.data.message),a({type:r.cS,payload:!0})}))}},j=function(e,a,n){return function(t){t({type:r.cS,payload:!0}),c.Z.get("".concat(u,"api/teams/tournament-registrations?teamId=").concat(e,"&page=").concat(a,"&size=10"),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){t({type:r.Re,payload:e.data}),t({type:r.cS,payload:!1})})).catch((function(e){t({type:r.cS,payload:!0})}))}},C=function(e,a,n,t,o,l){return function(t){console.log(l,"SetCardModel"),t({type:r.cS,payload:!0});var i="".concat(u,o?"api/payment/secure/pay-pending-amount":"api/payment/secure/create-subscription");c.Z.post(i,e,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){s.Z.success(e.data.message),t({type:r.cS,payload:!1}),l(!1),o||n(-1)})).catch((function(e){var a,n,o,c;console.log(e.response);var u=(null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||(null===(o=e.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message)||"An unexpected error occurred";s.Z.error(u),t({type:r.cS,payload:!1})}))}},z=function(e,a,n,t,o){return function(l){l({type:r.cS,payload:!0}),c.Z.put("".concat(u,"api/teams/complete-pending-team-registration/").concat(e,"/").concat(a,"/").concat(n,"?paidAmount=").concat(t,"&paymentMode=CASH&currency=USD"),{},{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){s.Z.success(e.data.message),l({type:r.cS,payload:!1})})).catch((function(e){s.Z.error(e.response.data.error),l({type:r.cS,payload:!1})}))}},R=function(e,a){return function(n){n({type:r.cS,payload:!0}),c.Z.post("".concat(u,"api/teams/").concat(e,"/co-manager/remove"),{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){s.Z.success(e.data.message),n({type:r.cS,payload:!1})})).catch((function(e){var a,t,o,c;console.log(e.response);var u=(null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.error)||(null===(o=e.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message)||"An unexpected error occurred";s.Z.error(u),n({type:r.cS,payload:!1})}))}},N=function(e,a,n){return function(t){t({type:r.cS,payload:!0}),c.Z.delete("".concat(u,"api/teams/").concat(e,"/players/").concat(a),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){s.Z.success("Player Remove Successfully!"),t({type:r.cS,payload:!1})})).catch((function(e){var a,n,o,c,u=(null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||(null===(o=e.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message)||"An unexpected error occurred";s.Z.error(u),t({type:r.cS,payload:!1})}))}},w=function(e,a){return function(n){c.Z.get("".concat(u,"api/payment-records?teamName=").concat(e.toLowerCase(),"&page=0&size=10&forceFirstAndLastRels=true"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){n({type:r.Do,payload:e.data})})).catch((function(e){404===e.response.status&&n({type:r.WX,payload:[]})}))}}}}]);
//# sourceMappingURL=961.9f596e78.chunk.js.map